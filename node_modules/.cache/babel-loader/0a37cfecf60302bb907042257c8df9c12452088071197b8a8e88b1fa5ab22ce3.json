{"ast":null,"code":"import _objectSpread from\"/Users/sense7ai/Documents/Gamyam/Gamyam/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{addProduct,updateProduct}from'../../redux/slices/productsSlice';import ListView from'./ListView';import CardView from'./CardView';import ViewToggle from'./ViewToggle';import SearchBar from'./SearchBar';import Pagination from'./Pagination';import ProductModal from'../ProductModal/ProductModal';import'./ProductList.scss';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductList=()=>{const dispatch=useDispatch();const allProducts=useSelector(state=>state.products.items);const[viewMode,setViewMode]=useState('card');const[searchQuery,setSearchQuery]=useState('');const[debouncedSearch,setDebouncedSearch]=useState('');const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage,setItemsPerPage]=useState(10);const[isModalOpen,setIsModalOpen]=useState(false);const[editingProduct,setEditingProduct]=useState(null);// Debounce search\nuseEffect(()=>{const timer=setTimeout(()=>{setDebouncedSearch(searchQuery);setCurrentPage(1);},500);return()=>clearTimeout(timer);},[searchQuery]);// Filter products based on search\nconst filteredProducts=allProducts.filter(product=>product.name.toLowerCase().includes(debouncedSearch.toLowerCase()));const totalPages=Math.ceil(filteredProducts.length/itemsPerPage);const startIndex=(currentPage-1)*itemsPerPage;const endIndex=startIndex+itemsPerPage;const currentProducts=filteredProducts.slice(startIndex,endIndex);// Handlers\nconst handleAddProduct=()=>{setEditingProduct(null);setIsModalOpen(true);};const handleEditProduct=product=>{setEditingProduct(product);setIsModalOpen(true);};const handleCloseModal=()=>{setIsModalOpen(false);setEditingProduct(null);};const handleSubmitProduct=productData=>{if(editingProduct){dispatch(updateProduct(_objectSpread(_objectSpread({},productData),{},{id:editingProduct.id})));}else{dispatch(addProduct(productData));}handleCloseModal();};const handlePageChange=page=>{setCurrentPage(page);};const handleItemsPerPageChange=value=>{setItemsPerPage(value);setCurrentPage(1);};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-list-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-list-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Product Management\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-add\",onClick:handleAddProduct,children:\"+ Add Product\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-list-controls\",children:[/*#__PURE__*/_jsx(SearchBar,{value:searchQuery,onChange:setSearchQuery}),/*#__PURE__*/_jsx(ViewToggle,{viewMode:viewMode,onChange:setViewMode})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-list-info\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Showing \",currentProducts.length,\" of \",filteredProducts.length,\" products\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"product-list-content\",children:currentProducts.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-products\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No products found\"})}):viewMode==='list'?/*#__PURE__*/_jsx(ListView,{products:currentProducts,onEdit:handleEditProduct}):/*#__PURE__*/_jsx(CardView,{products:currentProducts,onEdit:handleEditProduct})}),filteredProducts.length>0&&/*#__PURE__*/_jsx(Pagination,{currentPage:currentPage,totalPages:totalPages,itemsPerPage:itemsPerPage,totalItems:filteredProducts.length,onPageChange:handlePageChange,onItemsPerPageChange:handleItemsPerPageChange}),isModalOpen&&/*#__PURE__*/_jsx(ProductModal,{isOpen:isModalOpen,onClose:handleCloseModal,product:editingProduct,onSubmit:handleSubmitProduct})]});};export default ProductList;","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","addProduct","updateProduct","ListView","CardView","ViewToggle","SearchBar","Pagination","ProductModal","jsx","_jsx","jsxs","_jsxs","ProductList","dispatch","allProducts","state","products","items","viewMode","setViewMode","searchQuery","setSearchQuery","debouncedSearch","setDebouncedSearch","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","isModalOpen","setIsModalOpen","editingProduct","setEditingProduct","timer","setTimeout","clearTimeout","filteredProducts","filter","product","name","toLowerCase","includes","totalPages","Math","ceil","length","startIndex","endIndex","currentProducts","slice","handleAddProduct","handleEditProduct","handleCloseModal","handleSubmitProduct","productData","_objectSpread","id","handlePageChange","page","handleItemsPerPageChange","value","className","children","onClick","onChange","onEdit","totalItems","onPageChange","onItemsPerPageChange","isOpen","onClose","onSubmit"],"sources":["/Users/sense7ai/Documents/Gamyam/Gamyam/src/components/ProductList/ProductList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addProduct, updateProduct } from '../../redux/slices/productsSlice';\nimport ListView from './ListView';\nimport CardView from './CardView';\nimport ViewToggle from './ViewToggle';\nimport SearchBar from './SearchBar';\nimport Pagination from './Pagination';\nimport ProductModal from '../ProductModal/ProductModal';\nimport './ProductList.scss';\n\nconst ProductList = () => {\n  const dispatch = useDispatch();\n  const allProducts = useSelector((state) => state.products.items); \n  const [viewMode, setViewMode] = useState('card');   \n  const [searchQuery, setSearchQuery] = useState('');\n  const [debouncedSearch, setDebouncedSearch] = useState(''); \n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(10); \n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [editingProduct, setEditingProduct] = useState(null);\n\n  // Debounce search\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearch(searchQuery);\n      setCurrentPage(1); \n    }, 500);\n\n    return () => clearTimeout(timer);\n  }, [searchQuery]);\n\n  // Filter products based on search\n  const filteredProducts = allProducts.filter(product =>\n    product.name.toLowerCase().includes(debouncedSearch.toLowerCase())\n  ); \n  const totalPages = Math.ceil(filteredProducts.length / itemsPerPage);\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const currentProducts = filteredProducts.slice(startIndex, endIndex);\n\n  // Handlers\n  const handleAddProduct = () => {\n    setEditingProduct(null);\n    setIsModalOpen(true);\n  };\n\n  const handleEditProduct = (product) => {\n    setEditingProduct(product);\n    setIsModalOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setIsModalOpen(false);\n    setEditingProduct(null);\n  };\n\n  const handleSubmitProduct = (productData) => {\n    if (editingProduct) {\n      dispatch(updateProduct({ ...productData, id: editingProduct.id }));\n    } else {\n      dispatch(addProduct(productData));\n    }\n    handleCloseModal();\n  };\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  const handleItemsPerPageChange = (value) => {\n    setItemsPerPage(value);\n    setCurrentPage(1);\n  };\n\n  return (\n    <div className=\"product-list-container\">\n      <div className=\"product-list-header\">\n        <h1>Product Management</h1>\n        <button className=\"btn-add\" onClick={handleAddProduct}>\n          + Add Product\n        </button>\n      </div>\n\n      <div className=\"product-list-controls\">\n        <SearchBar \n          value={searchQuery}\n          onChange={setSearchQuery}\n        />\n        <ViewToggle \n          viewMode={viewMode}\n          onChange={setViewMode}\n        />\n      </div>\n\n      <div className=\"product-list-info\">\n        <p>Showing {currentProducts.length} of {filteredProducts.length} products</p>\n      </div>\n\n      <div className=\"product-list-content\">\n        {currentProducts.length === 0 ? (\n          <div className=\"no-products\">\n            <p>No products found</p>\n          </div>\n        ) : (\n          viewMode === 'list' ? (\n            <ListView \n              products={currentProducts}\n              onEdit={handleEditProduct}\n            />\n          ) : (\n            <CardView \n              products={currentProducts}\n              onEdit={handleEditProduct}\n            />\n          )\n        )}\n      </div>\n\n      {filteredProducts.length > 0 && (\n        <Pagination\n          currentPage={currentPage}\n          totalPages={totalPages}\n          itemsPerPage={itemsPerPage}\n          totalItems={filteredProducts.length}\n          onPageChange={handlePageChange}\n          onItemsPerPageChange={handleItemsPerPageChange}\n        />\n      )}\n\n      {isModalOpen && (\n        <ProductModal\n          isOpen={isModalOpen}\n          onClose={handleCloseModal}\n          product={editingProduct}\n          onSubmit={handleSubmitProduct}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default ProductList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}